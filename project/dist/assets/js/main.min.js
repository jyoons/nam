"use strict";$(window).on("beforeunload",function(){$(window).scrollTop(0)});var mainUi=function(i,h){return i.init=function(){0<$(".main-popup").length&&i.mainPop.init(),0<$(".wrap.main").length&&i.headerCtr.init(),0<$(".wrap.main").length&&i.mainVisual.init(),0<$(".wrap.main").length&&i.scrollEv.init(),0<$(".wrap.main").length&&i.boardCtr.init()},i.headerCtr={init:function(){h.on("scroll",function(){var i=$(this).scrollTop();$(".header").removeClass("is-scroll"),i>$(".main-visual").height()?$(".header").addClass("is-scroll"):$(".header").removeClass("is-scroll")})}},i.mainPop={init:function(){this.setDefault(".main-popup"),this.slide(".popup-slide"),this.event()},setDefault:function(i){$("body").addClass("scrollOff"),$("body").append('<div class="dimmed"></div>'),$(i).addClass("is-active")},slide:function(i){$(i).slick({speed:200,arrows:!1,initialSlide:0,dots:!0,adaptiveHeight:!0,infinite:!1})},event:function(){var i=this;$(".main-popup .popup-close").on("click",function(){i.close(".main-popup")})},close:function(i){$("body").removeClass("scrollOff"),$(i).removeClass("is-active"),$(".dimmed").remove()}},i.mainVisual={init:function(){this.mainSlider()},mainSlider:function(){var o=18e3,e=$(".main-slider li").length,t=$(".progress-bar .bar"),a=$(".progress-bar").width(),n=$(".page-num__current").text();$(".main-slider").on({init:function(i,s){$(this).siblings(".slider-util").find(".bar").css({"animation-duration":"18.3s"}),$(".page-num__total").text(e),t.stop().animate({width:a},o,"linear",function(){$(this).css({width:"0"})})},beforeChange:function(i,s,e){t.removeClass("bar-ani"),t.stop().width(0)},afterChange:function(i,s,e){$(".page-num__current").text(e+1),t.addClass("bar-ani"),$(".video"+n).trigger("play"),t.stop().width(0),t.stop().animate({width:a},o,"linear",function(){$(this).css({width:"0"})})}}),$(".main-slider").slick({dots:!1,prevArrow:$(".util-prev"),nextArrow:$(".util-next"),pauseOnHover:!1,infinite:!0,speed:1e3,fade:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:o}),$(".util-pause").on("click",function(){var i=$(".page-num__current").text(),s=$(".progress-bar .bar").width();$(".main-slider").slick("slickPause"),$(this).removeClass("on").siblings(".util-play").addClass("on"),t.width(s).stop(),$(".video"+i).trigger("pause")}),$(".util-play").on("click",function(){var i=$(".page-num__current").text();$(".progress-bar .bar").width();$(".main-slider").slick("slickPlay"),$(this).removeClass("on").siblings(".util-pause").addClass("on"),$(".video"+i).trigger("play"),t.stop().animate({width:a},o,"linear",function(){$(".video"+i).trigger("pause"),$(".video"+i).get(0).currentTime=0,$(this).css({width:"0"})})}),$(".slick-arrow").on("click",function(){$(".util-play").removeClass("on").siblings(".util-pause").addClass("on"),$(".video"+n).trigger("play")})}},i.scrollEv={init:function(){this.scrollInit(),this.scrollEv(),this.sectionAni()},scrollInit:function(){var o=0,i=$(".main-epilogue").height();setTimeout(function(){$(".quick-menu").animate({scrollTop:800},1400)},200),$(".main .section").each(function(i,s){var e=$(s).index()*$(window).height();3==i&&(e+=6e3),o+=e,$(s).css({top:e})}),$("#wrap.main").css({height:o+i+300+"px"})},scrollEv:function(){var t=$(".main-visual"),a=$(".section-01"),n=$(".section-02"),l=$(".section-03"),e=$(".main-indi li"),c=a.offset().top,r=n.offset().top,p=l.offset().top;e.find("a").on("click",function(){var i,s=$(this).parent().index();switch($(".main-indi").removeClass("color-change"),e.removeClass("on").eq(s).addClass("on"),s){case 0:i=0;break;case 1:i=c,$(".main-indi").addClass("color-change");break;case 2:i=r;break;case 3:i=p,$(".main-indi").addClass("color-change")}$(window).scrollTop(i)}),h.on("scroll",function(i){var s,e=h.scrollTop(),o=-50*e/c+0;-50<o&&t.css("top",o+"%"),c<e&&e<r?(s=-50*(e-=$(window).height())/c+0,t.css({opacity:"0",position:"absolute"}),a.css({position:"fixed",top:s+"%"})):(t.css({opacity:"1",position:"fixed"}),a.css({position:"absolute",top:c})),r<e&&e<p?(n.css({position:"fixed",top:0}),t.css({opacity:"0",position:"absolute"}),s=-50*(e=e-2*$(window).height()-6e3)/c+0,$(window).scrollTop()>r+6e3&&n.css({top:s+"%"})):n.css({position:"absolute",top:r}),p<e?(e=-50*(e=e-3*$(window).height()-6e3)/c+0,t.css({opacity:"0",position:"absolute"}),l.css({position:"fixed",top:e+"%"}),$(".main-epilogue").addClass("show")):(l.css({position:"absolute",top:p}),$(".main-epilogue").removeClass("show"))})},sectionAni:function(){var s=$(".main .section"),i=$(".section-01"),e=$(".section-02"),o=$(".section-03"),t=$(".main-indi li"),a=$(".section-02 .section-02-text"),n=$(".section-02-title"),l=i.offset().top-400,c=e.offset().top-400,r=o.offset().top-400,p=e.offset().top+1500,d=e.offset().top+3e3,m=e.offset().top+4500,u=(o.offset().top,new countUp.CountUp("count01",5e3)),v=new countUp.CountUp("count02",5e3),f=!1,C=!1;h.on("scroll",function(){var i=h.scrollTop();i<l?($(".main-indi").removeClass("color-change"),t.removeClass("on").eq(0).addClass("on"),s.removeClass("active")):i<c?($(".main-indi").addClass("color-change"),t.removeClass("on").eq(1).addClass("on"),a.removeClass("active"),s.removeClass("active").eq(1).addClass("active")):i<r?($(".main-indi").removeClass("color-change"),t.removeClass("on").eq(2).addClass("on"),s.removeClass("active").eq(2).addClass("active"),i<p?(a.removeClass("active").eq(0).addClass("active").css("top","-30%").stop().animate({top:"0",opacity:"1","z-index":"0"},200),a.eq(1).stop().animate({top:"80%",opacity:"0","z-index":"-1"},200)):i<d?(f?setTimeout(function(){u.reset(),u.update(5e3)},700):setTimeout(function(){u.start(),f=!0},700),a.removeClass("active").eq(0).removeClass("active").stop().animate({top:"-80%",opacity:"0","z-index":"-1"},200),a.removeClass("active").eq(1).addClass("active").css("top","-30%").stop().animate({top:"0",opacity:"1","z-index":"0"},200),a.eq(2).stop().animate({top:"80%",opacity:"0","z-index":"-1"},200)):i<m?(C?setTimeout(function(){v.reset(),v.update(5e3)},700):setTimeout(function(){v.start(),C=!0},700),n.removeClass("on").eq(0).addClass("on").css("top","-30%").stop().animate({top:"0",opacity:"1","z-index":"0"},200),n.eq(1).stop().animate({top:"80%",opacity:"0","z-index":"-1"},200),a.removeClass("active").eq(1).removeClass("active").stop().animate({top:"-80%",opacity:"0","z-index":"-1"},200),a.removeClass("active").eq(2).addClass("active").css("top","-30%").stop().animate({top:"0",opacity:"1","z-index":"0"},200),a.eq(3).stop().animate({top:"80%",opacity:"0","z-index":"-1"},200)):m<i&&(n.removeClass("on").eq(0).removeClass("on").stop().animate({top:"-80%",opacity:"0","z-index":"-1"},200),n.removeClass("on").eq(1).addClass("on").css("top","80%").stop().animate({top:"0",opacity:"1","z-index":"0"},200),a.eq(2).hasClass("active")&&a.removeClass("active").eq(2).removeClass("active").stop().animate({top:"-80%",opacity:"0","z-index":"-1"},200),a.eq(3).hasClass("active")||a.removeClass("active").eq(3).addClass("active").css("top","80%").stop().animate({top:"0",opacity:"1","z-index":"0"},200))):($(".main-indi").addClass("color-change"),t.removeClass("on").eq(3).addClass("on"),s.removeClass("active").eq(3).addClass("active"))})}},i.boardCtr={init:function(){var i=$(".main-tab-list__item"),s=$(".main-layout__conts");i.on("click",function(){$(this).addClass("on").siblings().removeClass("on");var i=$(this).attr("data-tab");s.find("."+i).addClass("on").siblings().removeClass("on")})}},i.init(),i}(window.mainUi||{},$(window));