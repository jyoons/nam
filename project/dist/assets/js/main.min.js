"use strict";var mainUi=function(i,u){return i.init=function(){0<$(".main-popup").length&&i.mainPop.init(),0<$(".wrap.main").length&&i.headerCtr.init(),0<$(".wrap.main").length&&i.mainVisual.init(),0<$(".wrap.main").length&&i.scrollEv.init()},i.headerCtr={init:function(){}},i.mainPop={init:function(){this.setDefault(".main-popup"),this.slide(".popup-slide"),this.event()},setDefault:function(i){$("body").addClass("scrollOff"),$("body").append('<div class="dimmed"></div>'),$(i).addClass("is-active")},slide:function(i){$(i).slick({speed:200,arrows:!1,initialSlide:0,dots:!0,adaptiveHeight:!0,infinite:!1})},event:function(){var i=this;$(".main-popup .popup-close").on("click",function(){i.close(".main-popup")})},close:function(i){$("body").removeClass("scrollOff"),$(i).removeClass("is-active"),$(".dimmed").remove()}},i.mainVisual={init:function(){this.mainSlider()},mainSlider:function(){$(".main-slider").on("init",function(i,n){$(this).siblings(".slider-util").find(".bar").css({"animation-duration":"3.3s"})}),$(".main-slider").slick({dots:!0,prevArrow:$(".util-prev"),nextArrow:$(".util-next"),pauseOnHover:!1,infinite:!0,speed:1e3,fade:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,customPaging:function(i,n){return{sliderPage:function(){$(".page-num__current").text(n+1),$(".page-num__total").text(i.slideCount)}}}}),$(".main-slider").on("afterChange",function(){$(".progress-bar .bar").addClass("bar-ani")}),$(".main-slider").on("beforeChange",function(){$(".progress-bar .bar").removeClass("bar-ani")}),$(".util-pause").on("click",function(){$(".main-slider").slick("slickPause"),$(this).removeClass("on").siblings(".util-play").addClass("on")}),$(".util-play").on("click",function(){$(".main-slider").slick("slickPlay"),$(this).removeClass("on").siblings(".util-pause").addClass("on")})}},i.scrollEv={init:function(){this.scrollInit(),this.scrollEv(),this.textAni()},scrollInit:function(){var s=0,i=$(".main-epilogue").height();setTimeout(function(){$(".quick-menu").animate({scrollTop:800},1400)},200),$(".main .section").each(function(i,n){var o=$(n).index()*$(window).height();3==i&&(o+=6e3),s+=o,$(n).css({top:o})}),$("#wrap.main").css({height:s+i+"px"})},scrollEv:function(){var t=$(".main-visual"),a=$(".section-01"),l=$(".section-02"),c=$(".section-03"),o=$(".main-indi li"),r=a.offset().top,p=l.offset().top,d=c.offset().top;$(".main .main-epilogue").offset().top;o.find("a").on("click",function(){var i,n=$(this).parent().index();switch($(".main-indi").removeClass("color-change"),o.removeClass("on").eq(n).addClass("on"),n){case 0:i=0;break;case 1:i=r,$(".main-indi").addClass("color-change");break;case 2:i=p;break;case 3:i=d,$(".main-indi").addClass("color-change")}$(window).scrollTop(i)}),u.on("scroll",function(i){var n,o=u.scrollTop(),s=-50,e=o*s/r+0;-50<e&&t.css("top",e+"%"),r<o&&o<p?(n=(o-=$(window).height())*s/r+0,t.css({opacity:"0",position:"absolute"}),a.css({position:"fixed",top:n+"%"})):(t.css({opacity:"1",position:"fixed"}),a.css({position:"absolute",top:r})),p<o&&o<d?(l.css({position:"fixed",top:0}),n=(o=o-2*$(window).height()-6e3)*s/r+0,t.css({opacity:"0"}),$(window).scrollTop()>p+6e3&&l.css({top:n+"%"})):l.css({position:"absolute",top:p}),d<o?(console.log(o),o=o-3*$(window).height()-6e3,console.log(o),s=o*s/r+0,console.log(s),c.css({position:"fixed",top:s+"%"}),t.css({opacity:"0"}),$(".main-epilogue").addClass("show")):(c.css({position:"absolute",top:d}),$(".main-epilogue").removeClass("show")),console.log("스크롤탑 : ".concat(o))})},textAni:function(){}},i.init(),i}(window.mainUi||{},$(window));